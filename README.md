# doc-searcher
项目是之前做网站写的Demo，后期加了分词和分词的加权，以及阅读量排序，文档上传下载。</br>
elasticsearch 基本概念。</br>
节点</br>
安装ES时，创建的ES实例就是节点，集群中部署了几个ES实例，就会有几个节点。</br>
单机部署为一个节点，集群部署时，节点数通常为2n+1个，意思是奇数个节点。</br>
索引</br>
ES中索引是指的逻辑存储，对应关系型数据库中“数据库”；索引类型对应 关系型数据库的“表”；</br>
文档 对应关系型数据中“记录”。</br>
分片</br>
ES可以将索引细分在不同的分片上，分片根据一定的算法分布在不同的节点上；</br>
ES创建索引时，默认主分片为5，并自动为每个主分片创建副本分片；</br>
单节点部署时，副本分片均为unassigned状态，健康状态为 yellow。</br>
集群健康度</br>
1、 green</br>
所有的主分片和副本分片都已分配。你的集群是 100% 可用的。</br>
2、yellow</br>
所有的主分片已经分片了，但至少还有一个副本是缺失的。不会有数据丢失，所以搜索结果依 然是完整的。不过，你的高可用性在某种程度上被弱化。</br>
如果 更多的 分片消失，你就会丢数据了。把 yellow 想象成一个需要及时调查的警告。</br>
3、red</br>
至少一个主分片（以及它的全部副本）都在缺失中。这意味着你在缺少数据：搜索只能返回部分数据，而分配到这个分片上的写入请求会返回一个异常。</br>
